[565. Array Nesting](https://leetcode.com/problems/array-nesting/description/)

* Array, Depth-First Search
* Apple
* Similar Questions:


## Method 1. From LeetCodeCN (5ms, beats 66%)
![](images/0565.Array_Nesting.png)
> éå†æ•°ç»„ï¼Œä» i å‘ nums[i] è¿è¾¹ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€å¼ æœ‰å‘å›¾ã€‚
> ç”±äºé¢˜ç›®ä¿è¯ nums ä¸­ä¸å«æœ‰é‡å¤çš„å…ƒç´ ï¼Œå› æ­¤æœ‰å‘å›¾ä¸­æ¯ä¸ªç‚¹çš„å‡ºåº¦å’Œå…¥åº¦å‡ä¸º 1ã€‚
> åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ‰å‘å›¾å¿…ç„¶ç”±ä¸€ä¸ªæˆ–å¤šä¸ªç¯ç»„æˆã€‚æˆ‘ä»¬å¯ä»¥éå† numsï¼Œæ‰¾åˆ°èŠ‚ç‚¹ä¸ªæ•°æœ€å¤§çš„ç¯ã€‚
```java
class Solution {
    public int arrayNesting(int[] nums) {
        int res = 0;
        int n = nums.length;
        boolean[] visited = new boolean[n];
        for(int i=0; i<n; i++) {
            int cnt = 0;
            while(!visited[i]) {
                visited[i] = true;
                i = nums[i];
                cnt++;
            }
            res = Math.max(res, cnt);
        }
        return res;
    }
}
```
**Complexity Analysis:**
* Time complexity: `O(n)`. Every element of the nums array will be considered at most once.
* Space complexity: `O(1)`. Constant Space is used.


## Reference
* LeetCodeCN: [æ•°ç»„åµŒå¥—](https://leetcode.cn/problems/array-nesting/solutions/1673589/shu-zu-qian-tao-by-leetcode-solution-7ur3/)
* ğŸŸ© LeetCodeCN: [ä½œå›¾å¸®åŠ©ç†è§£](https://leetcode.cn/problems/array-nesting/solutions/1/by-heren1229-bb0n/)