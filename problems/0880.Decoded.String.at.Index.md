[880. Decoded String at Index](https://leetcode.com/problems/decoded-string-at-index/description/)

* PhonePe, Amazon, EPAM Systems
* String, Stack, Math


## Method 1. Work Backwards
Intuition:
1. If we have a decoded string like `appleappleappleappleappleapple` (i.e. `apple`x6, `apple.length()=5`) and an index like K = 24, the answer is the same if K = 4 (i.e. `k % len = 24 % 5 = 4`).
2. When calculating the length of decoded string:
    1. When the current character is a letter, `size++`
    2. When the current character is a digit, `size x num`
3. When working backwords to find the `k-th` character:
    1. When the current character is a digit, `size /= num` and `k %= size`
    2. When the current character is a letter, `size--` since this character was appended when calcuting the length of decoded string.

```Java
class Solution {
    public String decodeAtIndex(String s, int k) {
        long size = 0;  // 注意此处为long类型，避免overflow
        int N = s.length();

        // Find size = length of decoded string
        for(int i=0; i<N; i++) {
            char c = s.charAt(i);
            if(Character.isDigit(c)) {
                size *= (c - '0');
            } else {
                size++;
            }
        }

        for(int i=N-1; i>=0; i--) {
            char c = s.charAt(i);
            k %= size;
            if(k == 0 && Character.isLetter(c)) {
                return Character.toString(c);
            }
            if(Character.isDigit(c)) {
                size /= (c - '0');
            } else {
                size--;
            }
        }
        return null;
    }
}
```
**Complexity Analysis:**
1. Time Complexity: `O(N)`, where `N` is the length of `S`.
2. Space Complexity: `O(1)`.


**Note:**
> Why this question is marked with "Stack"? The solution doesn't seems to related to stack...
> 
> I think the concept can be simulated as every time when you encounter a character, you insert that into the "stack"; when you encounter a digit, you "pop" out everything in the stack and do the multiplication. To be honest, "stack" was the first thing came into my mind. [from @geom1try]


**Reference:**
* https://leetcode.com/problems/decoded-string-at-index/editorial/